services:
  BT_SERVICE_NAME6:
    image: xlsea/snail-job-panel:${VERSION}
    #    container_name: ${CONTAINER_NAME}
    deploy:
      resources:
        limits:
          cpus: ${CPUS}
          memory: ${MEMORY_LIMIT}
    ports:
      - ${HOST_IP}:${NETTY_PORT}:1788
      - ${HOST_IP}:${WEB_HTTP_PORT}:8080
    volumes:
      - ${APP_PATH}/log:/snailjob/server/data/log/
    environment:
      - SERVER_SERVLET_CONTEXT_PATH=/
      - SPRING_DATASOURCE_DRIVER-CLASS-NAME=com.mysql.cj.jdbc.Driver
      - SPRING_DATASOURCE_USERNAME=${SNAILJOB_USER}
      - SPRING_DATASOURCE_PASSWORD=${SNAILJOB_PASSWORD}
      - SPRING_DATASOURCE_URL=jdbc:mysql://${SNAILJOB_HOST}:${SNAILJOB_PORT}/${SNAILJOB_NAME}?useSSL=false&characterEncoding=utf8&useUnicode=true
      - DATASOURCE_SQL_FILE=/snailjob/server/sql/snail_job_mysql.sql
    restart: always
    user: root
    labels:
      createdBy: "bt_apps"
    networks:
      - baota_net

networks:
  baota_net:
    external: true
